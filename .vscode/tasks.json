{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "docker-build: transient",
            "command": "docker",
            "args": ["build", "--build-arg", "TRANSIENT_DATABASE=TRUE", "-t", "anonymous-messenger", "."],
            "type": "shell"
        },
        {
            "label": "docker-build: non-transient",
            "command": "docker",
            "args": ["build", "--build-arg", "TRANSIENT_DATABASE=FALSE", "-t", "anonymous-messenger", "."],
            "type": "shell"
        },
        {
            "label": "docker-run: transient",
            "dependsOn": ["docker-build: transient"],
            "command": "docker",
            "args": ["build", "run", "-p", "8080:8080", "-d", "--name", "anonymous-messenger", "anonymous-messenger"],
            "type": "shell"
        },
        {
            "label": "docker-run: non-transient",
            "dependsOn": ["docker-build: non-transient"],
            "command": "docker",
            "args": ["run", "--env-file", ".env", "-p", "8080:8080", "-d", "--name", "anonymous-messenger", "anonymous-messenger"],
            "type": "shell"
        },
        {
            "label": "docker-run: kill container",
            "command": "docker",
            "args": ["container", "kill", "-f", "anonymous-messenger"],
            "type": "shell"
        },
        {
            "label": "docker-run: kill container",
            "command": "docker",
            "dependsOn": ["docker-build: non-transient"],
            "args": ["container", "rm", "-f", "anonymous-messenger"],
            "type": "shell"
        },
    ]
}
